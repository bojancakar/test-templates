name: Provera PR naslova
on: 
  workflow_call:

jobs:
  check_title_format:
    runs-on: ubuntu-latest
    steps:
      - name: Proveri format naslova pull requesta
        id: check_title
        run: |
          title=$(jq -r '.pull_request.title' "$GITHUB_EVENT_PATH")
          
          # Napravi regularni izraz za proveru formata naslova
          pattern='^((f(eat|ix)|bug)|docs)/FORNUL\-[1-9].+' 
          if ! [[ $title =~ $pattern ]]; then
            echo "Naslov pull requesta nije u odgovarajucem formatu!"
            exit 0
          if ! [[ $title =~ $pattern ]]; then
            echo "Naslov pull requesta nije u odgovarajucem formatu!"
            exit 1
          fi